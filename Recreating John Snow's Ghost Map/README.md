The city of London experienced four significant outbreaks of cholera between 1832 and 1866 that led to the deaths of tens of thousands of people. Between 1839 and 856, over 700 studies and essays were published in London alone about cholera. Many of the authors believed that cholera was caused by miasma or “bad air.” Dr. John Snow traced the source of the disease to contaminated water. This project recreates British physician John Snow’s famous Ghost Map of the 1854 Broad Street cholera outbreak.  

Python has a robust ecosystem of packages for doing data analysis. For this project, I used the pandas library to make importing and analyzing data more manageable. I started out reading in a csv file with the GeoCoordinates of where cholera deaths occurred into a DataFrame. Pandas DataFrames are two-dimensional rectangular grids used to store data with rows and columns. DataFrames are the primary pandas data structure, and they can be thought of as a dictionary-like container for Series objects. The original dataset had 489 rows of data in three columns. To look at the shape, I used DataFrame.shape(). I used the dataframe.info() function to do an exploratory analysis of the dataset and get a summary of the data frame. 

I renamed the columns with the DataFrame.rename function to give the names of the columns that were easier to understand (death_count, x_latitude, and y_latitude). I used the DataFrame.describe() method to view some statistical details like percentile, mean, std — etc. of the DataFrame. I prepared and pre-processed the data for plotting by creating a subset called locations that included the x_latitude and y_longitude columns. I used DataFrame.values to return a NumPy representation of the locations DataFrame. This created a NumPy array where each row of the locations DataFrame was a list. Then I used .tolist() to turn that NumPy array into a list gives a list of x_latitude and y_longitude pairs where deaths occurred. 

The next step was to recreate John Snow’s Ghost Map using modern techniques. I used the Folium library to loop through the pre-processed data and create an interactive Leaflet map. Leaflet is an open-source JavaScript library to make mobile-friendly interactive maps. The map of the cholera deaths showed that the cholera deaths occurred in a single cluster. Snow had previously hypothesized that cholera spread through water. He marked the location of water pumps on the map, and indeed the majority of cholera deaths were clustered around a single water pump on Broad Street. To add pumps to the map, I read in a csv file with the locations of water pumps into a DataFrame. Similar to the process for creating a list of list of the coordinates for the cholera related deaths, I created a list of lists of the pump locations. I looped through the pre-processed data to plot all of the pump locations on the map using the folium/Leaflet library again. 

Even though officials didn’t necessarily trust John Snow or his theory, they removed the handle to the water pump. The next step of the project was to reanalyze the effects of removing the handle. I imported the dates.csv files as the DataFrame dates. To perform time-series operations on dates, they need to be in the correct format, so the string dates were parsed as the DateTime data type. I used the dt.weekday_name attribute to associate a date with the day of the week and create a new column with this information in the DataFrame. I also created a new column with a Boolean for whether the handle was present or not. I used dataframe.info to get a summary of the dates DataFrame. I used dataframe.groupby.sum() on the ‘handle’ column to compare the number of cholera deaths before and after the handle was removed. The comparison shows higher numbers of deaths before the handle was removed compared to after the removal of the handle. 

I visualized the data about the Cholera Deaths/Attacks before and after removing the pump handle using the Bokeh library. Bokeh is a data visualization library in Python that provides high-performance interactive charts and plots. Interestingly the interactive visualization showed that the peak of the cholera outbreak happened before removing the handle and that the cholera outbreak was already in decline. While John Snow was correct that contaminated water was a cause of cholera infection, and removing the pump handle undoubtedly helped, removing the pump handle did not stop the outbreak. 
